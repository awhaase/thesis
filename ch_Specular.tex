
\chapter{Characterization of the Multilayer Structure for Different Systems} \label{ch_spec}
The multilayer mirror samples we shall investigate here were fabricated using the magnetron sputtering technique briefly discussed in the chapter~\ref{ch_exp} with nominal layer thicknesses and chemical species, depending on the desired reflection angle and spectral range. Among other parameters of the production process, the achieved layer thickness and sharpness of the interfaces has a direct impact on the performance of these mirrors with respect to their peak reflectance and bandwidth. Although the sputtering process is a well established technique for mirror fabrication, the actual layer thicknesses in the sample may differ from the nominal values and are generally unknown.

Based on the matrix algorithm introduced in chapter~\ref{ch_theo}, the electromagnetic fields   inside and outside an arbitrary layer system can be calculated. Most importantly, this allows to calculate the expected specular reflectance curves across angular or spectral ranges for a given layer model. The comparison of these calculated curves to measured data thus allows to obtain information about the actual layer properties in a given sample. However, the detected reflectance values in a specular reflection experiment are merely intensities of reflected radiation. The information on the phase of the electromagnetic wave can not be obtained in this way and is lost. It is thus not possible to directly reconstruct the layout of the sample with the measured reflection curve. This is known as the inverse problem of scatterometry. Reconstructing the layer properties is therefore an attempt of solving this inverse problem by accumulating prior knowledge about the sample, such as the nominal design goals during the fabrication process, into a model of that system. Starting from this model, the theoretically calculated curve is compared to the measured reflectance and optimized iteratively.

This method is not limited to the optimization of the model with respect to the reflectance of the mirror samples in their designated \gls{euv} spectral range. In order to add complementary information for refining the solution of the inverse problem, additional methods can be applied. In this chapter, depending on the sample system, we analyze several experimental methods. Apart from the aforementioned reflectance in the \gls{euv} spectral range, we apply resonant \gls{euv} reflectance across absorption edges, \gls{xrr} with high photon energy and finally \gls{xrf}. The latter does rely on the measurement of fluorescence radiation and thus requires the calculation of the field intensities inside the layer stack at the position of a specific chemical species for its analysis as described in section~\ref{ch_theo:sec_xrf} of chapter~\ref{ch_theo}.

% This chapter consists of three parts attributed to the study of three sample system categories. Firstly, the analysis of the specular \gls{euv} reflectance is applied and discussed in detail in section~\ref{ch_spec:sec_reconstruction_PTB17} to a high-reflectance multilayer mirror composed out of Mo/B$_4$C/Si/C optimized for reflection in the spectral range between $\lambda=\nm{12.4}$ and $\lambda=\nm{14.0}$ at angles of incidence below $\alpha_i \leq \SI{15}{\degree}$ based on the data at those wavelengths and angles.
% 
% Secondly, we apply the findings of the

% \begin{itemize}
%  \item more about what people already do
%  \item what are the problems (no unique solution)
%  \item solution approach: PSO
%  \item validation with MCMC and confidence intervals
%  \item combination of several methods to improve
%  \item for Cr/Sc: standard model does not work anymore, better model necessary
%  \item for Cr/Sc: how can better model be solved uniquely?
% \end{itemize}


\section{Reconstruction Based on Specular EUV reflectance}
\label{ch_spec:sec_reconstruction_PTB17}
In this section we demonstrate the reconstruction of a multilayer system designed as near-normal incidence mirror for the wavelength range between \nm{12.4} and \nm{14.0} based solely on experimental data of \gls{euv} reflectivity. The mirror was designed to achieve a peak in the reflectance at a wavelength of $\lambda=\nm{13.5}$ for an angle of incidence of $\alpha_i = \SI{6}{\degree}$. That combination is of relevance for optical setups in the next generation lithography setups for the semiconductor industry, for which this sample served as a prototype. The multilayer coating was deposited on a polished silicon substrate. The sample contains a periodic layer stack of molybdenum (Mo) and silicon (Si). Due to the problem of intermixing and resulting loss of interface definition, additional barrier layers of boroncarbite (B$_4$C) and carbon (C) were included at the Mo to Si and Si to Mo interfaces, respectively. We shall therefore refer to this sample with the layer sequence within one period from bottom to top as Mo/B$_4$C/Si/C. The periodicity of that system is $N=65$, while the $65th$ (capping) layer period does not posses a carbon layer but terminates with the silicon layer. A detailed schematic figure of the layer layout can be found in the description of the corresponding theoretical model in Fig.~\ref{ch_spec:fig_Mo_B4C_Si_C_model} below.

The sample was measured with respect to its reflectivity across the spectral range mentioned above at an angle of incidence of $\alpha_i=\SI{15}{\degree}$ from the surface normal. The measurement was conducted at the \gls{euvr} beamline at the \gls{mls}. The reflectivity was evaluated by first measuring the direct beam in the reflectometer with the diode detector. Then, the reflected radiation at an detector angle of $\SI{30}{\degree}$ was measured in reference to the direct beam signal. To ensure the stability of the result, the direct beam was measured again afterwards and compared to the data of the first measurement. The normalized results are shown in Fig.~\ref{ch_spec:fig_ptb17_reflectance_AOI_15}. The measurement uncertainty in with this experimental method is within $\SI{1}{\percent}$ of the peak reflectance value. Consequently, the error margin is within the line thickness of the data presentation in Fig.~\ref{ch_spec:fig_ptb17_reflectance_AOI_15}.
\begin{figure}[htbp]
\centering
\includegraphics{img/PTB17_reflectance_AOI_15}
\caption{Spectrally resolved reflectance data of the Mo/B$_4$C/Si/C multilayer sample. The irradiation was conduced under a fixed angle of incidence $\alpha_i = 15.0^\circ$. The measurement uncertainty is within the line thickness of the plot.}
\label{ch_spec:fig_ptb17_reflectance_AOI_15}
\end{figure}

The reflectiviy curve shows a broad peak attaining its maximum value at a wavelength of approximately \nm{13.1}, which is lower than the design peak reflectance of \nm{13.5}. That is due to the different angle of incidence used in the experiment. Apart from the man peak, side fringes are visible. They originate due to a superposition of waves being reflected at the top surface and the substrate interface. They are thus directly related to the total thickness of the multilayer coating and well known as \emph{Kiessig fringes} \cite{kiessig_interferenz_1931}. Based on the data obtained through this spectrally resolved reflectivity experiment, we shall attempt to reconstruct the unknown layer layout in the following sections. The nominal fabrication parameters serve as an anchor point for the analysis to construct a reasonable model for the reconstruction.

The reconstruction of a given model based on the evaluation of \gls{euv} (or \gls{xrr}) reflectivity data is a well established method for the characterization of multilayer systems widely used today \cite{lim_fabrication_2001, bajt_investigation_2001, braun_mo/si_2002}. In most cases a model is constructed and optimized applying gradient methods such as the Levenberg-Marquardt method \cite{levenberg_method_1944, marquardt_algorithm_1963}. Those optimization algorithms typically operate with a set of start parameters within the parameter space and iteratively improve the overlap of the prediction from the theoretical calculation and the experimental data. This is done by calculating the gradient of a minimization functional, usually termed $\chi^2$, in all directions in the parameter space and changing the parameters accordingly in direction of smaller $\chi^2$ values. This approach has the major disadvantage that the end result is strongly dependent on the choice of starting values and may not represent a global minimum of $\chi^2$ but only a local optimum. While estimations of the quality of the fit results within the (local) optimum are possible, no estimation can be given globally for the given model. For those reasons, this characterization strategy has only limited applicability and alternative approaches are required.

In contrast to those gradient methods, statistical optimization algorithms exist. They share the aim of minimizing a optimization functional $\chi^2$ with the gradient approaches, but operate on the whole parameter space with predefined limits instead. In the following we shall apply those statistical optimization routines to obtain the reconstruction of the Mo/B$_4$C/Si/C sample and elaborate their application to the characterization of multilayer systems in detail.

\subsection{Multilayer Model and Particle Swarm Optimization} \label{ch_spec:sec_multilayer_model_and_pso}
For the purpose of reconstructing the layer layout of the Mo/B$_4$C/Si/C sample, a parameterized model is needed entering the theoretical calculations to obtain the reflectivity curve according to the matrix algorithm. The model is largely based on prior knowledge available from the fabrication process. For the multilayer sample investigated here, the nominal layer design is known and a schematic representation is shown in Fig.~\ref{ch_spec:fig_Mo_B4C_Si_C_model}.
\begin{figure}[htbp]
    \def\svgwidth{0.7\textwidth}
    \fontfamily{fds}\selectfont\footnotesize
    \import{svg/}{mo_si_ptb17_model.pdf_tex}
    \caption{Model of the multilayer stack including the substrate and the capping layers. The periodic part is enclosed between the dashed lines with four layers in each period repeated $N=64$ times. The capping period does not include an interdiffusion layer but has a natural SiO$_2$ layer.}
    \label{ch_spec:fig_Mo_B4C_Si_C_model}
\end{figure}
As introduced above, the multilayer coating consists of a periodic arrangement of four layers replicated 64 times. With the top period being different from the others through the missing carbon interdiffusion layer on the top surface. Since the sample was exposed to ambient conditions, a passivation of the top silicon surface through oxidation has to be taken into account through a silicondioxide layer. The parameterization of that model is given by the thicknesses of each layer within one period as well as for the capping silicondioxide layer. Each of the deposited layers may vary in density with respect to the bulk density of that material \cite{braun_mo/si_2002}, which also needs to be reflected in the model. Finally, the Nevot-Croce factor $\sigma$ accounting for roughness and interdiffsion at the interfaces as introduced in chapter \ref{ch_theo} is also included. The required optical constants, i.e.~the indices of refraction, of the respective materials in the relevant spectral range are taken from tabulated values by \textcite{henke_x-ray_1993} and used for the theoretical calculations based on the matrix algorithm. A full list of the model parameters for the multilayer sample can be found in table~\ref{ch_spec:tbl_mo_b4c_si_c_multilayer_parameters} together with physically plausible limits for each of the parameters. Due to the fact that the \gls{euv} reflectivity curve shown in Fig.~\ref{ch_spec:fig_ptb17_reflectance_AOI_15} shows the first order Bragg peak of the layer system, none of the layers can be thicker than \nm{7}, i.e.~in the order of half of the wavelength. The barrier layers were designed to attain thicknesses below \nm{1}. The densities of the various materials within this model was constrained to values between $\SI{50}{\percent}$ and $\SI{100}{\percent}$ with respect to their bulk density, while values above the bulk density are physically highly improbable. Due to the high peak reflectance of the multilayer sample in the \gls{euv} measurement, the maximum value of the Nevot-Croce factor was limited to be below $\sigma \leq \nm{2}$. With its upper limit, the measured peak reflectance can not be attained within this model thus not limiting the generality.
\begin{table*}
\centering
\caption{Multilayer parametrization and parameter limits}
\label{ch_spec:tbl_mo_b4c_si_c_multilayer_parameters}
\begin{tabular}{@{}llll@{}}
\toprule
Parameter & Definition & Lower bound & Upper bound\\ \midrule
$d_\text{Mo}$ / nm & Mo layer thickness & $0.0$& $7.0$\\ 
$d_\text{Si}$ / nm & Si layer thickness& $0.0$& $7.0$\\ 
$d_\text{C}$ / nm &C buffer layer thickness& $0.0$ & $5.0$\\ 
$d_\text{B$_4$C}$ / nm &B$_4$C buffer layer thickness&$0.0$ & $5.0$\\ 
$\sigma$ / nm & N\'{e}vot-Croce parameter& $0.0$& $2.0$\\ 
&(identical for all interfaces)&&\\
$\rho_\text{Mo}$ &Mo density w.r.t.~bulk density & $0.5$& $1.0$\\ 
$\rho_\text{Si}$ &Si density w.r.t.~bulk density& $0.5$& $1.0$\\ 
$\rho_\text{C}$ &C density w.r.t.~bulk density& $0.5$& $1.0$\\ 
$\rho_\text{B$_4$C}$ &B$_4$C density w.r.t.~bulk density& $0.5$& $1.0$\\
\midrule
\multicolumn{4}{c}{Capping layer}\\
\midrule
$d_\text{SiO$_2$(cap)}$ / nm & SiO$_2$ capping layer thickness & $0.0$&$5.0$ \\ 
$\rho_\text{SiO$_2$(cap)}$& $=\rho_\text{Si}$ (identical to Si density)& & \\
 \bottomrule
\end{tabular}
\end{table*}

\paragraph{The minimization functional and particle swarm optimization}
As introduced above, the reconstruction of the model for the multilayer is an optimization problem. Based on the measured reflectivity data an optimization functional defines the goodness of the model with respect to the measured data. The quality is asserted based on the method of least squares \cite{legendre_nouvelles_1805, gauss_theoria_1809, birge_calculation_1932} and the functional is defined as the reduced $\tilde{\chi}^2$
\begin{align}
\tilde{\chi}^2 = \frac{1}{m - p} \bigg[\sum\limits_{m} \frac{(I_m^\text{model} 
- I_m^\text{meas})^2}{\tilde{\sigma}_m^2} \bigg] \text{,} 
\label{ch_spec:eqn_reduced_chi_squared}
\end{align}
where $m$ is the number of measurement points, $p$ is the number of parameters used in the model, $I_m^\text{model}$ is the calculated intensity for the corresponding measurement point with index $m$ having the measured intensity $I_m^\text{meas}$. The calculated intensity fur the \gls{euv} reflectivity curve above $I_m^\text{model}$ follows directly from the matrix algorithm and the quantity $R$ in Eq.~\eqref{ch_theo:eqn_refl_trans_ML} in chapter~\ref{ch_theo}. Each point is calculated based on the angle of incidence and wavelength associated with measurement point $m$. The experimental error for each measurement point is described by $\tilde{\sigma}_m$.

For the minimization of the functional in Eq.~\eqref{ch_spec:eqn_reduced_chi_squared} we apply a global optimization algorithm known as \gls{pso} \cite{kennedy_particle_2011}. In contrast to the aforementioned gradient based methods, the particle swarm optimizer operates on the whole parameter space as defined by the upper and lower parameter limits, which are given in table~\ref{ch_spec:tbl_mo_b4c_si_c_multilayer_parameters} for the particular example here, without specific starting parameters influencing the convergence result. We implemented the \gls{pso} algorithm based on the draft by \textcite{carlisle_off--shelf_2001}. The basic mechanism of the algorithm is the definition of a swarm of individual particles, which are initialized randomly distributed across the allowed parameter space. Initially, each of those particles calculates the minimization functional at its random position retaining that result. In an iterative process, the global best solution (``social component'') found as well as the individual best solution (``cognitive component'') of each particle are used to calculate a velocity vector within the parameter space for each particle. Within that iteration each of the particle thus moves to a new position, where the minimization functional is again evaluated and compared the the individual and global best solutions. If a better value is found, the respective retained results are updated with the new value and the next iteration is performed. While following that process the particles eventually converge to the global best solution, which may or may not be the global best optimum of the whole optimization problem. Due to the combination of social and cognitive component, fast convergence into a local optimum can be avoided. The state of full convergence is reached, when either all particles occupy the same place in the parameter space or if stagnation is reached. Due to the statistical nature of the algorithm, convergence can not be guaranteed. Neither is the global best optimum found necessarily the global minimum. The result may be verified by repeated application of the algorithm or simply by  reaching a satisfactory solution through comparison of the measured and calculated curves and thus the desired small $\tilde{\chi}^2$ values.

\paragraph{Model reconstruction based on the \gls{euv} reflectivity data}
We have applied this optimization procedure to the Mo/B$_4$C/Si/C sample and the measured \gls{euv} reflectivity curve. The fit result is shown together with the measured data in Fig.~\ref{ch_spec:fig_ptb17_reflectance_AOI_15_fitted}.
\begin{figure}[htbp]
\centering
\includegraphics{img/PTB17_reflectance_AOI_15_fitted}
\caption{Theoretical reflectance curve based on the optimal model parameters obtained from the particle swarm optimization.}
\label{ch_spec:fig_ptb17_reflectance_AOI_15_fitted}
\end{figure}
The parameter results are listed in table~\ref{ch_spec:tbl_mo_b4c_si_c_multilayer_parameters_results}. The solution does indeed provide a very good agreement with the measured data. However, by repeated evaluation of the \gls{pso} procedure, significantly different results for the optimal parameter set with comparable agreement were found. Clearly, this is no desirable situation, since no definite answer of the actual thicknesses found in the sample can be made. To complete the characterization additional methods of model verification are thus required. We shall therefore discuss an additional approach to the optimization problem in the following section on how the model validity and the information content of the measured data can be asserted based on the example of the \gls{pso} results obtained here.
\begin{table}[htbp]
\centering
\caption{Results for the ptimized parameters based on the \gls{pso} of the \gls{euv} reflectivity for the Mo/B$_4$C/Si/C sample.}
\label{ch_spec:tbl_mo_b4c_si_c_multilayer_parameters_results}
\begin{tabular}{@{}lll@{}}
\toprule
Parameter & Definition& PSO result\\ \midrule
$d_\text{SiO$_2$(cap)}$ / nm &SiO$_2$ capping layer thickness& $3.194$ \\
$d_\text{Mo}$ / nm &Mo layer thickness&  $2.460$ \\
$d_\text{Si}$ / nm &Si layer thickness& $2.421$\\ 
$d_\text{C}$ / nm &C buffer layer thickness& $0.811$\\ 
$d_\text{B$_4$C}$ / nm &B$_4$C buffer layer thickness& $1.308$\\ 
$\sigma$ / nm &N\'{e}vot-Croce parameter& $0.322$\\
$\rho_\text{Mo}$ &Mo density w.r.t.~bulk density& $0.989$\\ 
$\rho_\text{Si}$ &Si density w.r.t.~bulk density& $0.883$\\ 
$\rho_\text{C}$ &C density w.r.t.~bulk density& $0.833$\\ 
$\rho_\text{B$_4$C}$ &B$_4$C density w.r.t.~bulk density& $0.909$ \\
 \bottomrule
\end{tabular}
\end{table}

\subsection{The Problem of Model Uniqueness and Maximum Likelihood Estimation}
With the ambiguous reconstruction result of the previous section, the demand for a verification of the model with respect to the measured data becomes apparent. To clarify the problem of uniqueness of the solution it is instructive to investigate the influence of the individual model parameters on the theoretical reflectivity curve. In Fig.~\ref{ch_spec:fig_mo_si_parameter_influence} we varied a subset of the parameters starting from the \gls{pso} solution from Sec.~\ref{ch_spec:sec_multilayer_model_and_pso}. In each of the subfigures, one parameter or a quotient of parameters is varied while all others are kept fixed.
\begin{figure*}[htbp]
\centering
\includegraphics{img/parameter_influence}
\caption{Parameter influence.}
\label{ch_spec:fig_mo_si_parameter_influence}
\end{figure*}
By comparison of Fig.~\ref{ch_spec:fig_mo_si_parameter_influence}a, \ref{ch_spec:fig_mo_si_parameter_influence}b, \ref{ch_spec:fig_mo_si_parameter_influence}c and \ref{ch_spec:fig_mo_si_parameter_influence}e it becomes clear that a reduction of the peak reflectivity can originate in either a large roughness and interdiffusion parameter $\sigma$ or similarly from the thickness of the capping layer, the silicon to molybdenum layer thickness ratio of the molybdenum density. A reconstruction based on a single \gls{euv} reflectivity therefore intrinsically produces a highly ambiguous result with strong parameter correlations. The available data, a single \gls{euv} reflectivity curve in this case, does not allow for a unique set of parameters of the model minimizing the $\chi^2$ functional. In reality multiple solutions with equal values for $\tilde{\chi}^2$ exist. Clearly, this raises the question of how accurately a reconstruction may be achieved here and requires to determine the value of $\tilde{\chi}^2$ in vicinity of the \gls{pso} solution or possibly the whole parameter space.

\paragraph{Maximum likelihood}
We approach this problem of evaluating $\tilde{\chi}^2$ across the parameter space by numerically sampling the functional based on a \gls{mcmc} method \cite{goodman_ensemble_2010}. An application of this technique to the design process of multilayer mirrors has been demonstrated by \textcite{hobson_markov-chain_2004}. In our case, the match of model and experimental result is evaluated based on a non-centered $\chi^2$ distribution assuming independent measurements. We further assume that any measured point is distributed around the actual reflectivity curve following a Gaussian distribution, i.e.~we assume Gaussian errors for the experiment. The corresponding probability density function for a measurement result matching with the actual reflectivity curve, which is assumed to be obtainable exactly through the theoretical calculation, is then of Gaussian form \cite{abramowitz_handbook_1964}. Thus, the likelihood that the measured values match with the theoretical curve under the assumption that the model is correct is proportional to
\begin{align}
 L(E | M(\vec{x})) \propto \exp \big(- \tilde{\chi}^2(\vec{x}) / 2 \big) \text{,} \label{ch_spec:eqn_likelihood_experiment_vs_model}
\end{align}
where $E$ denotes the experiment, i.e.~the measured data and $M(\vec{x})$ represents the model given through parameter set $\vec{x}$, e.g.~the parameters of the model in table~\ref{ch_spec:tbl_mo_b4c_si_c_multilayer_parameters}. In our case however, we seek to evaluate the likelihood $L(M(\vec{x}) | E)$ that the model $M(\vec{x})$ with a given set of parameters $\vec{x}$ is valid assuming the experiment $E$ yields the correct curve (the so called ``posterior distribution''). Those two quantities are linked through the Bayesian theorem \cite{bayes_essay_1763, milton_introduction_2002} stating
\begin{align}
 L(M(\vec{x}) | E) \propto L(E | M(\vec{x})) L(M(\vec{x})) \text{,} \label{ch_spec:eqn_bayesian_theorem}
\end{align}
where $L(M(\vec{x}))$ denotes the likelihood for the model to be valid for a specific set of parameters $\vec{x}$ (the so called ``prior distribution''). The prior distribution does contain any prior knowledge about the model and allowed parameters. For the example of the model parameters in table~\ref{ch_spec:tbl_mo_b4c_si_c_multilayer_parameters}, the prior distribution is $L(M(\vec{x})) \rightarrow -\infty$ for any parameter set outside the listed boundaries and $L(M(\vec{x})) = 1$ everywhere else. In addition, we limit the maximum total period thickness, i.e.~the sum of all layers in one period to only allow the appearance of the first Bragg peak within the measured spectral range through the same condition. Combining Eq.~\eqref{ch_spec:eqn_likelihood_experiment_vs_model} and Eq.~\eqref{ch_spec:eqn_bayesian_theorem} then yields the likelihood functional
\begin{align}
 L(\vec{x}) = L(M(\vec{x}) | E) \propto \exp \big(- \tilde{\chi}^2(\vec{x}) / 2 \big) L(M(\vec{x})) \text{.} \label{ch_spec:eqn_likelihood}
\end{align}

Solving the optimization problem posed in the previous section within this context is then, equivalently to the minimization of $\tilde{\chi}^2$, the maximization of the likelihood $L(\vec{x})$. The \gls{mcmc} method poses a statistical approach on evaluating (mapping) the likelihood across the parameter space within the previously defined limits as in the \gls{pso} approach. It thus yields an alternative method on solving the optimization problem by extracting the maximum likelihood from the final result. However, in addition to the maximum value, the likelihood distribution in parameter space is obtained allowing to extract confidence intervals for each of the parameters \cite{cox_theoretical_1979}. Thereby, the aforementioned ambiguity of solutions can be quantified within the defined model and the available experimental data. The confidence intervals are defined as the one- or two-sigma standard deviations of the respective distributions for each parameter.

\paragraph{Confidence intervals for the Mo/B$_4$C/Si/C sample}
We have applied an existing implementation of the \gls{mcmc} algorithm by \textcite{foreman-mackey_emcee:_2013} to the \gls{euv} measurement of the Mo/B$_4$C/Si/C sample in Fig.~\ref{ch_spec:fig_ptb17_reflectance_AOI_15} with the model in Fig.~\ref{ch_spec:fig_Mo_B4C_Si_C_model}. The likelihood as defined in Eq.~\eqref{ch_spec:eqn_likelihood} with the $\tilde{\chi}^2$ functional from Eq.~\eqref{ch_spec:eqn_reduced_chi_squared} is sampled in a high-dimensional space depending on the number of parameters in the model. We therefore need to project the distribution for each parameter by marginalizing over all other parameters. Alternatively, two-parameter correlations can be visualized by projecting on a two-dimensional area, again marginalizing across all other parameters. The projection for the Si and Mo layer thicknesses are shown in Fig.~\ref{ch_spec:fig_ptb17_MCMC_d_Mo_vs_d_Si}b and \ref{ch_spec:fig_ptb17_MCMC_d_Mo_vs_d_Si}c. In both cases, a well defined distribution is obtained. In the two-dimensional projection in Fig.~\ref{ch_spec:fig_ptb17_MCMC_d_Mo_vs_d_Si}a, no correlations are apparent and a two-dimensional Gaussian-like shape results.
\begin{figure*}[htbp]
\centering
\includegraphics{img/PTB17_MCMC_d_Mo_vs_d_Si}
\caption{Results of the maximum likelihood estimation obtained via the \gls{mcmc} procedure. a) Two dimensional projection of the likelihood distribution for the parameter pair $d_\text{Si}$ and $d_\text{Mo}$. The projection was obtained by marginalizing over all other parameters of the model. The black contours indicate the areas for one and two standard deviations (one and two sigma contours). The blue lines in all three sub-figures indicate the best parameter set found with the \gls{pso} method. b) One dimensional projection of the likelihood distribution for the silicon layer thickness $d_\text{Si}$. The solid black line marks the center position ($50\%$ percentile) of the distribution. The dotted lines are the limits of one standard deviation. c) The one dimensional distribution similarly to b) for the molybdenum layer thickness.}
\label{ch_spec:fig_ptb17_MCMC_d_Mo_vs_d_Si}
\end{figure*}
\begin{figure*}[htbp]
\centering
\includegraphics{img/PTB17_MCMC_other_params}
\caption{In analogy to Fig.~\ref{ch_spec:fig_ptb17_MCMC_d_Mo_vs_d_Si}b and \ref{ch_spec:fig_ptb17_MCMC_d_Mo_vs_d_Si}c the one dimensional projections of the likelihood distribution estimation for the Mo/B$_4$C/Si/C sample are shown for the remaining parameters of the model with the \gls{pso} result, the center value and one standard deviation.}
\label{ch_spec:fig_ptb17_MCMC_other_params}
\end{figure*}
In all cases, the one-sigma standard deviations for Gaussian distributions are shown together with the weighted center, i.e.~the $50$th percentile. The \gls{pso} result is also indicated, which is compatible with the one sigma standard deviation, but does not match the center of the likelihood result. The reason for that lies in higher order correlations of the parameters. In Fig.~\ref{ch_spec:fig_ptb17_MCMC_other_params}, all one-dimensional projections of the likelihood distribution are shown for all remaining parameters. Clearly, while a reasonably small confidence interval (again, one standard deviation for all distributions) can be found for the thickness of the carbon and boroncarbite layers, the off-center value for the silicon thickness of the PSO result in Fig.~\ref{ch_spec:fig_ptb17_MCMC_d_Mo_vs_d_Si}c is compensated by a larger than center value for the boroncarbite layer in Fig.~\ref{ch_spec:fig_ptb17_MCMC_other_params}. Thus, the thicknesses are correlated and are no independent model parameters. Nevertheless, confidence intervals can be obtained within the given model and the given prior (the boundaries listed in table~\ref{ch_spec:tbl_mo_b4c_si_c_multilayer_parameters} and are listed accordingly in table~\ref{ch_spec:tbl_mo_b4c_si_c_multilayer_mcmc_results} for one and two standard deviations. Within the allowed boundaries, some parameters remain entirely undefined with equal likelihood for any parameter value, such as the SiO$_2$ capping layer thickness, the silicon, carbon and boroncarbite relative densities. Their corresponding total confidence intervals thus cover almost exactly $68.2\%$ (one standard deviation) and $95.4\%$ (two standard deviations) of the allowed respective parameter range. Hence, with respect to the model defined and the measured \gls{euv} reflectivity curve, no reliable value for those sample properties can be reconstructed.
\begin{table*}[htbp]
\centering
\caption{\gls{mcmc} results obtained by the analysis of the \gls{euv} reflectivity for the Mo/B$_4$C/Si/C sample. The center values ($50\%$ percentile) together with confidence intervals (c.i.) of one and two standard deviations are shown.}
\label{ch_spec:tbl_mo_b4c_si_c_multilayer_mcmc_results}
\begin{tabular}{@{}llll@{}}
\toprule
Parameter & PSO result & center value with $1 \sigma$ c.i.& center value with $2 \sigma$ c.i.\\ \midrule
$d_\text{SiO$_2$(cap)}$ / nm & $3.194$& $3.677({-2.252}/{+1.944})$ & $3.677({-3.407}/{+3.108})$ \\
$d_\text{Mo}$ / nm &  $2.460$& $3.137({-0.587}/{+0.560})$ & $3.137({-1.054}/{+1.016})$ \\
$d_\text{Si}$ / nm & $2.421$& $2.338({-0.497}/{+0.616})$ & $2.338({-0.916}/{+1.294})$ \\
$d_\text{C}$ / nm& $0.811$ & $0.744({-0.477}/{+0.510})$ & $0.744({-0.696}/{+0.971})$ \\
$d_\text{B$_4$C}$ / nm & $1.308$& $0.782({-0.471}/{+0.511})$ & $0.782({-0.722}/{+0.973})$ \\
$\sigma$ / nm & $0.322$& $0.214({-0.143}/{+0.201})$ & $0.214({-0.204}/{+0.347})$\\
$\rho_\text{Mo}$ & $0.989$& $0.953({-0.048}/{+0.034})$ & $0.953({-0.094}/{+0.045})$ \\
$\rho_\text{Si}$ & $0.883$& $0.782({-0.167}/{+0.147})$ & $0.782({-0.264}/{+0.208})$ \\
$\rho_\text{C}$ & $0.833$& $0.739({-0.164}/{+0.175})$ & $0.739({-0.228}/{+0.249})$ \\
$\rho_\text{B$_4$C}$ & $0.909$& $0.741({-0.162}/{+0.172})$ & $0.741({-0.230}/{+0.247})$ \\
 \bottomrule
\end{tabular}
\end{table*}

It should be noted, that although the aforementioned density values can not be determined based on the available data, they remain possibly highly correlated parameters. A valid optimization result can therefore only be obtained by either applying the \gls{pso} routine or by iterative application of the \gls{mcmc} procedure, fixing single parameters according to their maximum likelihood value in the model and obtaining the resulting likelihood distributions for the remaining parameters according to that restricted model.

The results listed in table~\ref{ch_spec:tbl_mo_b4c_si_c_multilayer_mcmc_results} serve as the model parameters for the analysis of diffuse scattering from the Mo/B$_4$C/Si/C sample in chapter~\ref{ch_diff} below.

\section{Molybdenum Thickness Variation in Mo/Si Multilayers}
In the following we shall apply and extend the reconstruction procedure discussed in the above section to the problem of multilayer sample systems deposited with varying molybdenum layer thicknesses. For the engineering of a near-normal incidence mirror, the ratio of molybdenum layer thickness to total period thickness has a clear impact on the reflectivity curve as seen in Fig.~\ref{ch_spec:fig_mo_si_parameter_influence}c. Studies have shown, that an optimal value for high reflectivity is achieved by depositing $40\%$ molybdenum layer thickness $d_\text{Mo}$ with respect to the total period thickness $D$ \cite{bajt_investigation_2001,braun_mo/si_2002}. During the deposition process, the layer of molybdenum grows in thickness and at a certain threshold, crystallites may begin to form \cite{bajt_investigation_2001} inside the layer. Those may affect the interface morphology of the layer system at the boundaries to the molybdenum layer and possibly at further interfaces through correlation effects. This potentially increases the roughness and thus the loss of specularly reflected radiation. For the deeper understanding of those effects, we shall reconstruct the layer structure and determine the molybdenum layer thickness in each sample in comparison to the nominal values for the magnetron sputtering deposition.

\subsection{Sample systems and experimental procedure}
As a specific prototype for high-reflectance multilayer mirrors for the spectral range between \nm{12.4} and \nm{14.0} serve two sets of several samples of Mo/Si multilayer systems with C interdiffusion barriers with thicknesses of nominally below \nm{0.5} at the Mo on Si interfaces (a detailed figure of the model for those samples is given below in Fig.~\ref{ch_spec:fig_model_unpolished_and_polished_samples} of the following sections). As mentioned above, the samples under investigation here were fabricated with increasing relative Mo thickness while keeping the nominal period thickness $D\approx 7$ nm constant. In this study, we investigate two sets of samples. In the first set, the magnetron sputtered layers were deposited one after another for each sample. In the second set, during deposition, an additional polishing process was used after sputtering each molybdenum layer to counteract the possible roughening due to the crystallization. The nominal values of the molybdenum layers in the two sample sets are listed in table~\ref{ch_spec:tbl_mo_si_thickness_nominal}.
\begin{table}[htbp]
\centering
\caption{List of nominal molybdenum layer thicknesses in the two sample sets. Both sets were fabricated with a equidistant increase in thickness from \nm{1.70} to \nm{3.05} with 9 unpolished and 10 polished samples.}
\label{ch_spec:tbl_mo_si_thickness_nominal}
\begin{tabular}{@{}ll@{}}
\toprule
nominal $d_\text{Mo}$ / nm & nominal $d_\text{Mo}$ / nm\\ 
(unpolished samples) & (polished samples) \\
\midrule
$1.70$& $1.70$\\ 
$1.87$& $1.85$\\ 
$2.04$ & $2.00$\\ 
$2.21$ & $2.15$\\ 
$2.38$& $2.30$\\ 
$2.54$& $2.45$\\ 
$2.71$& $2.60$\\ 
$2.88$ & $2.75$\\ 
$3.05$ & $2.90$\\ 
-& $3.05$\\ 
 \bottomrule
\end{tabular}
\end{table}

All samples were measured after deposition using a lab-based Cu-K$_\alpha$ hard x-ray diffractometer at the Fraunhofer IWS Dresden, Germany. The \gls{xrr} data is shown in Fig.~\ref{ch_spec:fig_MoSi_XRR} for the set of unpolished and polished samples in direct comparison.
\begin{figure*}[htbp]
\centering
\includegraphics[width=\textwidth]{img/XRR_MoSi}
\caption{\gls{xrr} data for all unpolished and polished samples shown in dependence on the nominal molybdenum layer thickness $d_\text{Mo}^\text{nom}$. In each of the subfigures a) and b) the \gls{xrr} measurements for the sample with smallest and largest $d_\text{Mo}^\text{nom}$ are shown on the bottom and the top of the subfigure, respectively. In between, the \gls{xrr} curves are illustrated in as a color map plot.}
\label{ch_spec:fig_MoSi_XRR}
\end{figure*}
The position of the Bragg peaks and their respective intensity give additional information on the layer stack thicknesses and its interface properties. In both cases, shifts of the peak positions become apparent. Especially the higher orders towards larger grazing incidence angles show differences. Those shifts indicate a difference in the period thickness $D$ of the individual samples. In addition, in direct comparison of the \gls{xrr} curves for the respective sample with $d_\text{Mo}^\text{nom} = \nm{3.05}$ from the unpolished and polished sets (on the top of Fig.~\ref{ch_spec:fig_MoSi_XRR}a and Fig.~\ref{ch_spec:fig_MoSi_XRR}b), a higher intensity for higher-order Bragg peaks above grazing angles of incidence of $\alpha_i^\text{GI} > \SI{7}{\degree}$ can be observed for the polished sample. This hints towards an improved interface definition and sharpness due to the polishing process.

Apart from the \gls{xrr} measurement, spectrally resolved \gls{euv} reflectivity curves at an angle of incidence from the surface normal of $\alpha_i=\SI{15}{\degree}$ and in the wavelength range from \nm{12.4} to \nm{14.0} have been measured for all samples at the \gls{euvr} beamline at the \gls{mls}. The data obtained is shown in Fig.~\ref{ch_spec:fig_EUV_reflectivity_unpolished_and_polished_with_peak_refl}a and Fig.~\ref{ch_spec:fig_EUV_reflectivity_unpolished_and_polished_with_peak_refl}b together with the respective maximum reflectance value in Fig.~\ref{ch_spec:fig_EUV_reflectivity_unpolished_and_polished_with_peak_refl}c sorted by the nominal molybdenum layer thickness.
\begin{figure*}[htbp]
\centering
\includegraphics[width=\textwidth]{img/EUV_reflectivity_with_peak}
\caption{a) Reflectivity curves for the unpolished samples across the wavelength at a fixed angle of incidence of $\alpha_i = 15^\circ$ from the surface normal. The nine samples differ by the nominal Mo layer thickness indicated at the bottom axis. b) Reflectivity curves of the ten polished samples measured under the same conditions as for the first sample set. c) Respective peak reflectance values for each sample obtained from the measurements in (a) and (b) in comparison. The maximum theoretical reflectance is shown for a perfect (no roughness or interdiffusion) layer system with the same specifications as the samples.}
\label{ch_spec:fig_EUV_reflectivity_unpolished_and_polished_with_peak_refl}
\end{figure*}
The reflectivity curves in Fig.~\ref{ch_spec:fig_EUV_reflectivity_unpolished_and_polished_with_peak_refl}a and Fig.~\ref{ch_spec:fig_EUV_reflectivity_unpolished_and_polished_with_peak_refl}b show the same shifts of the peak center position as the \gls{xrr} data in Fig.~\ref{ch_spec:fig_MoSi_XRR} for the respective sample sets. Clear differences in the peak reflectance value can also be observed in the two subfigures. To better illustrate the differences, the peak value is shown in \ref{ch_spec:fig_EUV_reflectivity_unpolished_and_polished_with_peak_refl}c together with a theoretical curve as reference. The latter illustrates the maximum achievable reflectance based on the nominal layer layout without any roughness or interdiffusion present. The comparison of the two sample sets yields a higher peak reflectance value for the polished samples for most molybdenum layer thicknesses. Both curves for both sample sets show significant drops in the reflectance for the values between $d_\text{Mo}^\text{nom} = \nm{2.21}$ and $d_\text{Mo}^\text{nom} = \nm{2.38}$ for the unpolished samples and $d_\text{Mo}^\text{nom} = \nm{1.70}$ and $d_\text{Mo}^\text{nom} = \nm{1.85}$ for the polished samples, respectively. For both curves, a peak reflectance value dependency on the respective molybdenum thickness similar to the ideal theoretical curve can be identified, excluding the aforementioned dips. This is in good agreement with the mention on an ideal molybdenum layer thickness ratio of approximately $40\%$ above. In accordance with the literature \cite{bajt_investigation_2001}, the appearance of the dip for the unpolished samples at approximately $d_\text{Mo}^\text{nom} \approx \nm{2.4}$ is most likely associated with the crystallization threshold for the appearance of crystallites inside the molybdenum layer. In case of the polished samples, this threshold appears to occur earlier, i.e.~at lower thickness values.

In the following section we shall analyze the data discussed here to reconstruct a model of the samples using the \gls{mcmc} approach introduced in Sec.~\ref{ch_spec:sec_reconstruction_PTB17} in order to verify the observations made here.

\newpage
\subsection{Combined Analysis of X-ray and EUV reflectance}
To obtain the actual layer thicknesses in the samples, we analyzed the data of the \gls{euv} reflectivity and \gls{xrr} experiments and reconstructed these parameters by modeling and by combined analysis of the measured data. The data analysis was conduced in analogy to the procedure in Sec.~\ref{ch_spec:sec_reconstruction_PTB17}, but with a combined definition of the likelihood functional.
\begin{itemize}
 \item Conservative estimation of errors through reduced $\chi^2$
\end{itemize}

\paragraph{Model of the Multilayer Stack} \label{sec:mo_si_model}
The thicknesses of the Mo layers inside the stack were varied nominally from $1.7$ nm to $3.05$ nm from sample to sample. The stacking of the different layers in the multilayer consists of the Mo and Si layers, as well as an additional buffer layer at the Si-to-Mo interface to prevent interdiffusion. For the Mo-to-Si interfaces, no buffer layers were included since interdiffusion is usually less in this case \cite{petford-long_highresolution_1987}. However, for the theoretical description of the sample stack we consider an additional MoSi$_2$ layer, which is well known to form during the deposition process \cite{bajt_investigation_2001}. The full model used in the reconstruction is illustrated in Fig.~\ref{fig:model} with the thickness parameters for each layer. To correct for any contamination on the top sample surface, an additional carbon-like layer on top was considered. In addition to the thicknesses of each layer we also allowed for a variation of the layer density between $80\%$ and $100\%$ of the bulk density. The evaluation of the reflectivity with respect to the model was performed with the matrix algorithm in Eq.~\eqref{eqn:refl_trans} described above. The model parameters and their boundaries are listed in Table~\ref{tbl:multilayer_parameters}.
\begin{figure}[htbp]
    \def\svgwidth{0.7\textwidth}
    \fontfamily{fds}\selectfont\footnotesize
    \import{svg/}{mo_si_iws_model.pdf_tex}
    \caption{Model of the multilayer stack including the substrate and the capping layers. The periodic part is enclosed between the dashed lines with four layers in each period repeated 49 times. The capping period does not include an interdiffusion layer but has a natural SiO$_2$ layer and a carbon-like layer accounting for contamination on the top surface.}
    \label{ch_spec:fig_model_unpolished_and_polished_samples}
\end{figure}
\begin{table*}
\centering
\caption{Multilayer parametrization and parameter limits}
\label{tbl:multilayer_parameters}
\begin{tabular}{@{}llll@{}}
\toprule
Parameter & Definition & Lower bound & Upper bound\\ \midrule
$d_\text{Mo}$ / nm & Mo layer thickness & $0.0$& $4.5$\\ 
$d_\text{Si}$ / nm & Si layer thickness& $0.0$& $7.0$\\ 
$d_\text{C}$ / nm &C buffer layer thickness& $0.0$ & $0.6$\\ 
$d_\text{MoSi$_2$}$ / nm &MoSi$_2$ interdiffusion layer thickness&$0.0$ & $0.6$\\ 
$\sigma$ / nm & N\'{e}vot-Croce parameter& $0.0$& $0.5$\\ 
&(identical for all interfaces)&&\\
$\rho_\text{Mo}$ &Mo density w.r.t.~bulk density & $0.8$& $1.0$\\ 
$\rho_\text{Si}$ &Si density w.r.t.~bulk density& $0.8$& $1.0$\\ 
$\rho_\text{C}$ &C density w.r.t.~bulk density& $0.8$& $1.0$\\ 
$\rho_\text{MoSi$_2$}$ &MoSi$_2$ density w.r.t.~bulk density& $0.8$& $1.0$\\
\midrule
\multicolumn{4}{c}{Capping layer}\\
\midrule
$d_\text{C(cap)}$ / nm & C capping layer thickness & $0.0$&$3.0$ \\ 
$d_\text{SiO$_2$(cap)}$ / nm & SiO$_2$ capping layer thickness & $0.0$&$1.5$ \\ 
$\rho_\text{C(cap)}$ &C capping layer density w.r.t.~bulk density& $0.0$& $1.0$\\ 
$\rho_\text{SiO$_2$(cap)}$& $=\rho_\text{Si}$ (identical to Si density)& & \\
 \bottomrule
\end{tabular}
\end{table*}

\paragraph{Reconstruction of the model}

The reconstruction of the model for the multilayer itself as well as of the power spectral density for the interfacial roughness is an optimization problem. Based on the measured reflectivity data and the diffuse scattering, respectively, in each case, an optimization functional defines the goodness of the model. The optimization functional can then be described for each of the methods (EUV, XRR, diffuse scattering) individually by the reduced $\tilde{\chi}^2$
\begin{align}
\tilde{\chi}^2 = \frac{1}{m - p} \bigg[\sum\limits_{m} \frac{(I_m^\text{model} 
- I_m^\text{meas})^2}{\tilde{\sigma}_m^2} \bigg] \text{,} 
\label{eqn:reduced_chi_2}
\end{align}
where $m$ is the number of measurement points, $p$ is the number of parameters used in the model, $I_m^\text{model}$ is the calculated intensity for the corresponding measurement point with index $m$ having the measured intensity $I_m^\text{measured}$. The calculated intensity $I_m^\text{model}$ follows directly from $R$ in Eq.~\eqref{eqn:refl_trans} for the EUV and XRR measurements and $\big(d \sigma/d \Omega\big)$ in Eq.~\eqref{eqn:dwba} for the diffuse scattering, respectively, in each case, for the angle of incidence and wavelength associated with measurement point $m$. The experimental error for each measurement point is described by $\tilde{\sigma}_m$. The combined functional for the analysis of the EUV and X-ray reflectance experiments to be optimized with respect to the measured data is defined as
\begin{align}
\chi^2 = \tilde{\chi}^2_\text{EUV} +\tilde{\chi}^2_\text{XRR} \text{,}
\label{eqn:total_chi_2}
\end{align}
and for the diffuse scattering as
\begin{align}
\chi^2 = \tilde{\chi}^2_\text{diff} \text{.} \label{eqn:total_chi_2_diffuse}
\end{align}
The solution to the inverse problem of reconstructing the optimal model parameters is conducted by minimizing the $\chi^2$ functional. To minimize the functional with respect to the best choice of parameters, we apply a Markov-chain Monte Carlo method \cite{goodman_ensemble_2010,foreman-mackey_emcee:_2013,haase_multiparameter_2016}. As a starting point, a random set of parameters is generated with respect to predefined boundaries. The limits are chosen in reference to prior knowledge and physical plausibility. The advantage of this procedure with respect to other optimization methods such as Levenberg-Marquart \cite{levenberg_method_1944,marquardt_algorithm_1963} or particle swarm optimization \cite{kennedy_particle_2011} is that the distribution of the Monte Carlo walkers after convergence reflects the set of parameters with maximum likelihood, correlations in between the parameters as well as confidence intervals for each value within the underlying model. The latter ones are estimated from the MCMC as one standard deviation of the sample distribution in each parameter.
\begin{figure}[htbp]
\centering
\includegraphics{img/PS5657}
\caption{Combined analysis}
\label{ch_spec:fig_EUV_XRR_combined}
\end{figure}




%In order to obtain a unique reconstruction of the multilayer stack thicknesses and densities, a combination of several methods is necessary \cite{}\todo{citation Cr/Sc paper}. This is in general a very time consuming procedure, since many complementary methods have to be applied for all samples. In case of the sample system of interest here, the samples ideally only differ in the thickness of the Mo layers. We therefore focus on the unambiguous determination of the corresponding thicknesses here. In this case the combined analysis of EUV reflectivity and X-ray reflectivity suffice.

\paragraph{Specular Measurement Results and Optimization} \label{sec:mo_si_model_reconstruction_results}
The two sample sets have been measured with respect to their reflectivity at a fixed angle of incidence $\alpha_i=15^\circ$ from the surface normal by varying the wavelength in the spectral range from $\lambda=12.4$ nm to $\lambda=14.0$ nm. The results are shown in Fig.~\ref{fig:EUV_reflectivity} in comparison to each other, with their nominal Mo layer thickness. The max.~peak reflectance is also shown for the two series.

Clear shifts of central peak reflectance wavelength can be observed in both cases. This coincides with a dip in the max.~peak reflectance in both cases, which most likely is associated with the crystallization threshold of the Mo layer. There is a notable difference in the observed jumps for the two sample sets. For the unpolished samples, the crystallization threshold seems to be around $d^\text{nom}_\text{Mo} =2.38$ nm, whereas it appears at much lower nom. Mo thickness values for the polished sample set at around  $d^\text{nom}_\text{Mo} =2.00$ nm. For all of the samples additional XRR measurements exist (not shown here), which were analyzed based on the combined principle using the MCMC method as described in Sec.~\ref{sec:max_likelihood}. An unambiguous result was only found with respect to the thickness parameters of Mo and Si, as well as for the N\'{e}vot-Croce parameter $\sigma$, whereas all other parameters show equal likelihood within the predefined boundaries. Therefore, the best model was obtained in a two-step process. First an MCMC optimization was performed including all parameters. Proceeding from this, the value of the Mo thickness with its confidence interval was obtained by marginalizing over all other parameters. In a second step, another MCMC optimization was performed on a reduced parameter set, fixing the layer thicknesses of the C barrier layer and the MoSi$_2$ interdiffusion layer to their nominal values of $d_C = d_{\text{MoSi}_2} = 0.5 $ nm. Thereby, comparable models could be derived for all samples without constraining the applicability of the model with respect to the data available. This comes with no consequences for the goal of analyzing the at-wavelength diffuse scattering, since the relative thickness of the barrier layer and the intermixing layer has only negligible effect on the fields inside the stack if the model fits the EUV reflectivity curve in the same spectral range. It should be noted here that for an entirely unambiguous characterization more complementary characterization methods, such as resonant EUV reflectivity and X-ray standing wave analysis, would be required as described in~\cite{haase_multiparameter_2016}.

The results of the two-step analysis are shown in Fig.~\ref{fig:fitted_mo_and_fitted_D}.
\begin{figure*}[htbp]
\centering
\includegraphics[width=\textwidth]{img/fitted_mo_and_fitted_D}
\caption{a) Fitted Mo thickness values for both sample sets resulting from the MCMC analysis (see text). The nominal Mo layer thickness is shown in comparison in good agreement with the obtained thicknesses. b) Fitted total period thickness $D$ for both sample sets. For both sample sets, clear jumps can be observed at approx.~$d^\text{nom}_\text{Mo} =2.00$ nm and $d^\text{nom}_\text{Mo} =2.38$ nm, respectively, which is attributed to the crystallization threshold (see text). The marked (circle) samples were measured and analyzed with respect to the diffuse scattering.}
\label{fig:fitted_mo_and_fitted_D}
\end{figure*}
The confidence intervals shown in Fig.~\ref{fig:fitted_mo_and_fitted_D}a are one standard deviation of the likelihood determined for the Mo layer thickness by the first-step MCMC procedure. The results show good agreement with the nominal thicknesses for both sample sets. The corresponding total period thicknesses $D$ in Fig.~\ref{fig:fitted_mo_and_fitted_D}b show clear jumps correlated with the presumed crystallization thresholds inferred from the max.~peak reflectivity in Fig.~\ref{fig:EUV_reflectivity}c. The results from this layer thickness and density characterization form the basis for the following analysis of the diffuse scattering.

\begin{table*}[htbp]
\centering
\caption{List of nominal molybdenum layer thicknesses in the two sample sets. Both sets were fabricated with a equidistant increase in thickness from \nm{1.70} to \nm{3.05} with 9 unpolished and 10 polished samples.}
\label{ch_spec:tbl_mo_si_thickness_mcmc_result}
\begin{tabular}{@{}llll@{}}
\toprule
nom.~$d_\text{Mo}$ / nm & EUV \& XRR & nom.~$d_\text{Mo}$ / nm& EUV \& XRR\\ 
(unpolished) && (polished) &\\
\midrule
$1.70$ &$1.81({-0.12}/{+0.24})$ & $1.70$ &$1.77({-0.22}/{+0.19})$ \\
$1.87$ &$1.98({-0.15}/{+0.14})$ & $1.85$ &$1.91({-0.12}/{+0.17})$ \\
$2.04$ &$2.08({-0.11}/{+0.22})$ & $2.00$ &$2.29({-0.28}/{+0.13})$ \\
$2.21$ &$2.31({-0.22}/{+0.21})$ & $2.15$ &$2.45({-0.43}/{+0.06})$ \\
$2.38$ &$2.43({-0.09}/{+0.16})$  & $2.30$ &$2.60({-0.12}/{+0.14})$ \\
$2.54$ &$2.68({-0.13}/{+0.16})$ & $2.45$ &$2.58({-0.21}/{+0.15})$ \\
$2.71$ &$2.91({-0.17}/{+0.12})$ & $2.60$ &$2.87({-0.22}/{+0.12})$ \\
$2.88$ &$3.02({-0.15}/{+0.15})$ & $2.75$ &$3.03({-0.16}/{+0.14})$ \\
$3.05$ &$3.22({-0.13}/{+0.11})$ & $2.90$ &$3.15({-0.13}/{+0.13})$ \\
- &- & $3.05$ & $3.47({-0.19}/{+0.13})$ \\
 \bottomrule
\end{tabular}
\end{table*}


\section{Analysis of Cr/Sc Multilayers with Sub-nanometer Layer Thickness}

\subsection{Reconstruction with a Binary Model Approach}
To better illustrate the requirement of an improved model, we have conducted an 
analysis based on the standard binary model of a Cr/Sc multilayer. The analysis 
was done based on the EUV data shown in Fig.~\ref{fig:EUV_XRR_REUV_XRF_data}a. 
The results are shown in Fig.~\ref{fig:EUV_XRR_reflectance} in comparison with 
the expected XRR curve from this optimization result and the theoretically 
achievable maximum reflectance without any roughness or interdiffusion. The Sc 
to Cr ratio was found to be $\Gamma_\text{Sc}=0.48$ with roughness and 
interdiffusion considered via a Nevot-Croce factor using $\sigma=0.385$ nm. The 
individual layer thicknesses for this sample were fitted to be $d_\text{Cr} = 
0.81$ nm and $d_\text{Sc}= 0.75$ nm. While the EUV reflectance curve (cf.~inset 
in Fig.~\ref{fig:EUV_XRR_reflectance}) shows excellent agreement with the 
measured data, there is a significant offset in the case of the XRR measurement 
with the (binary) model derived from the EUV reflectance experiment. Even a 
combined analysis could not yield a consistent result, since the Nevot-Croce 
factor required to reduce the theoretical EUV reflectance down to the measured 
level could not be brought into agreement with the XRR curve (result not shown 
here). In a strictly binary model with a layer thickness ratio of 
$\Gamma_\text{Sc}\approx 0.5$, the second Bragg peak is additionally suppressed 
due to symmetry reasons. Thus, there is a clear mismatch with the experimental 
observation as seen in the comparison of the fitted and measured XRR curves in 
Fig.~\ref{fig:EUV_XRR_reflectance}.
\begin{figure*}[htbp]
  \centering
  \includegraphics[width=\textwidth]{images/binary_model_and_theo_refl}
  \caption{a) Fitted experimental EUV reflectance curves across the wavelength 
of the radiation impinging at $1.5^\circ$ from normal, based on the binary 
model. The green curve shows the maximum possible reflectance in the water 
window assuming a perfect multilayer system without roughness or 
interdiffusion. b) The optimal model based on the analysis of the EUV 
reflectance (cf.~Fig.~\ref{fig:EUV_XRR_reflectance}a) shows a clear mismatch 
with the measured XRR curve in the second Bragg peak.
}
  \label{fig:EUV_XRR_reflectance}
\end{figure*}

\subsection{Extending The Model to Graded Interfaces and Interdiffusion}
Instead of the simple binary layer model, a gradual interface model is 
introduced to better reflect the electron density profile due to 
interdiffusion. A corresponding profile is shown in Fig.~\ref{fig:CrScModel} 
for illustration in comparison to the binary model.
\begin{figure*}[htbp]
  \centering
  \includegraphics[width=\textwidth]{images/CrSc_model}
  \caption{a) Binary Cr/Sc multilayer model with total period thickness $D$ and 
the individual layer thicknesses $d_\text{Sc}$ and $d_\text{Cr}$. b) Model with 
explicit gradual interfaces following a sinusoidal profile. The ideal interface 
profile is approximated through discrete sublayers as indicated in red, forming 
the actual gradual interface profile entering the electric field calculations. 
The thickness of the interdiffusion zones can differ for the top and bottom 
interface in each period. Their total thicknesses are given by $s_\text{Sc}$ 
and $s_\text{Cr}$. The effective index of refraction for both layers is given 
by $\tilde{n}_\text{Sc}$ and $\tilde{n}_\text{Cr}$, respectively.}
  \label{fig:CrScModel}
\end{figure*}
The calculation of the electromagnetic fields is then conducted based on this 
model with the matrix formalism introduced in the preceding section. The 
interface region with sinusoidal profiles is sampled with a fixed number of 
equally spaced points in $z$-direction, effectively creating a region of thin 
sublayers with a gradually changing index of refraction. The parameters of our 
multilayer model are listed in Table~\ref{tbl:parametrization},
\begin{table*}
\centering
\caption{Multilayer parametrization and parameter limits}
\label{tbl:parametrization}
\begin{tabular}{@{}llll@{}}
\toprule
Parameter & Definition & Lower bound & Upper bound\\ \midrule
$D$ / nm & $= d_\text{Sc} + d_\text{Cr}$ & 1.5&1.6 \\ 
$\Gamma_{Sc}$ & $= d_\text{Sc} / D$&0.0 &1.0 \\ 
$s_d$ / nm&$=s_\text{Sc} + s_\text{Cr}$&0.0 & 1.6\\ 
$\Gamma_s$ &$= s_\text{Sc} / s_d$& 0.0& 1.0\\ 
$\eta$ &layer intermixing& 0.0& 1.0\\ 
$\sigma_r$ / nm & r.m.s.~roughness& 0.0& 0.5\\ 
$\rho_{Sc}$ &Sc density w.r.t.~bulk density & 0.5& 1.0\\ 
$\rho_{Cr}$ &Cr density w.r.t.~bulk density& 0.5& 1.0\\ 
 \bottomrule
\end{tabular}
\end{table*}
where $D$ is the full period thickness, $d_\text{Sc}$ and $d_\text{Cr}$ are the 
nominal layer thicknesses of the Cr and Sc layers as indicated in 
Fig.~\ref{fig:CrScModel}, and $\rho_\text{Sc}$ and $\rho_\text{Cr}$ their 
respective densities with respect to their bulk densities 
$\tilde{\rho_\text{Sc}} = 2.989$ g/cm$^3$ and $\tilde{\rho_\text{Cr}} = 7.19$ 
g/cm$^3$ \cite{henke_x-ray_1993}. The parameters $s_\text{Sc}$ and $s_\text{Cr}$ describe 
the full width of the interdiffusion layers as shown in 
Fig.~\ref{fig:CrScModel}. To take into account intermixing extending across the 
full period, we introduced an intermixing parameter $\eta$. The effective 
indices of refraction of the individual Cr and Sc layers are then given through
\begin{align}
\tilde{n}_\text{Cr} &=(\eta/2) n_\text{Sc} + (1-\eta/2) n_\text{Cr} \text{,} 
\nonumber\\
\tilde{n}_\text{Sc} &=(1-\eta/2) n_\text{Sc} + (\eta/2) n_\text{Cr} \text{,} 
\label{eqn:effective_n} \\
&\text{for} \quad \eta \in [0,1] \text{,}\nonumber
\end{align}
where $n_\text{Cr}$ and $n_\text{Sc}$ are the tabulated values \cite{henke_x-ray_1993} 
with densities $\rho_\text{Cr}$ and $\rho_\text{Sc}$. The loss of specular 
reflectance due to roughness-induced scattering is considered through the 
Nevot-Croce factor using $\sigma_\text{r}$ identical at each interface for the 
reasons described in the above section. To improve the optimization procedure 
and to reduce correlations between individual parameters, we have selected some 
effective parameters as defined in Table~\ref{tbl:parametrization}. The 
parameter $\Gamma_\text{Sc}$ indicates the portion of the Sc layer thickness 
with respect to the full period thickness $D$; $\Gamma_\sigma$ describes the 
asymmetry of the widths of the sinusoidal profiles at the Cr/Sc and Sc/Cr 
interfaces and is limited to the interval $\Gamma_\sigma \in [0,1]$. Note that 
$s_\text{Sc}$ and $s_\text{Cr}$ are half periods of the sinus functions used to 
describe the interface profiles. Therefore the condition $s_\text{Sc} + 
s_\text{Cr} \leq D$ holds.

\subsection{Combination of Complementary Experimental Methods}
The reconstruction of the multilayer structure was conducted with a series of 
experiments. The minimization functional of the combined analysis of the 
optimization problem $\chi^2$ is defined as the total sum of the reduced 
least-squares functionals for each experiment,
\begin{align}
\chi^2 = \tilde{\chi}^2_\text{EUV} +\tilde{\chi}^2_\text{XRR} 
+\tilde{\chi}^2_\text{REUV} + 
\tilde{\chi}^2_\text{GIXRF(Sc)}+\tilde{\chi}^2_\text{GIXRF(Cr)}\text{,} 
\label{eqn:total_chi_2}
\end{align}
where each of the reduced functionals is defined as
\begin{align}
\tilde{\chi}^2 = \frac{1}{m - p} \bigg[\sum\limits_{m} \frac{(I_m^\text{model} 
- I_m^\text{meas})^2}{\tilde{\sigma}_m^2} \bigg] \text{,} 
\label{eqn:reduced_chi_2}
\end{align}
with $m$ being the number of measurement points in each experiment and $p$ the 
number of parameters for the model. Statistical and systematic uncertainties 
for each data point are included in $\tilde{\sigma}_m$. The definition of 
Eq.~\eqref{eqn:total_chi_2} ensures that all experiments are weighted equally 
considering their respective uncertainties.

The minimization is performed with a particle-swarm optimizer (PSO) 
\cite{kennedy_particle_2011}. In the case of an optimization problem with many local 
minima, this provides an advantage with respect to gradient methods, where the 
fit result is dependent on the choice of starting values. Similar approaches 
employing genetic algorithms for solving the inverse problem of scatterometry 
can be found in the literature \cite{del_rio_modeling_2000}. In the case of the model 
parametrization given in Sec.~\ref{sec:model}, the choice of the parameter 
intervals is defined either by physical plausibility or the fact that the 
parameter is intrinsically defined in a certain interval, the same as for the 
intermixing $\eta$, for example. The intervals used in our analysis are listed 
in Table \ref{tbl:parametrization}.

The PSO analysis was conducted for each experiment individually and for the 
combination of all experiments. In the case of the XRR measurements, only the 
first and second Bragg peaks were considered for the combined analysis. The 
region in between mainly reflects the top surface layers, i.e.~capping layers, 
and potential surface contamination layers, which were analyzed separately 
based exclusively on the XRR data. The results were added as fixed surface 
layers to the model for all theoretical calculations of all experiments. The 
analysis of the GIXRF experiment was conducted based on the fluorescence data 
at an excitation photon energy of $6.25$ keV for the Sc-K and Cr-K lines by spectral 
deconvolution using detector response functions.

\subsubsection{EUV and X-ray reflectivity}
\subsubsection{Resonant EUV Reflectivity}
\subsubsection{Grazing Incidence X-ray Fluorescence}

\subsection{Model Uniqueness and Confidence Intervals}
The solution of the inverse problem based on the particle swarm optimization 
technique ideally delivers the global minimum of the total $\chi^2$ functional 
in the specified parameter space. However, no information is obtained about the 
sensitivity of an experiment with respect to certain aspects of the model, 
i.e.~specific parameters. As an example one might consider the case of an EUV 
reflectance experiment, where the influence of the interdiffusion layer 
asymmetry on the expected reflectance curve is negligible. The model reflects 
this geometry through the parameter $\Gamma_\sigma$. Most likely, an optimal 
choice for $\Gamma_\sigma$ minimizing $\chi^2$ exists and can be found by using 
the particle swarm optimizer. Nevertheless, varying the parameter 
$\Gamma_\sigma$ causes only marginally larger $\chi^2$, resulting in a limited 
credibility and validity of this parameter and leaving it essentially undefined 
based on the available data. To solve this issue and quantify confidence 
intervals for each parameter in each experiment, we apply a Markov-chain Monte 
Carlo (MCMC) sampling technique. The likelihood of the model describing the 
actual sample based on the data available is given by
\begin{align}
\mathcal{L}(\vec{x}) \propto \exp \big(-\chi^2 / 2 \big) \text{,} 
\label{eqn:likelihood}
\end{align}
where $\vec{x}$ is the set of parameters of the model and $\chi^2$ is the total 
$\chi^2$ for the validation of the combined analysis 
(cf.~Eq.~\eqref{eqn:total_chi_2}) or the reduced $\tilde{\chi}^2$ for the 
validation of the individual experiments according to the definition in 
Eq.~\eqref{eqn:reduced_chi_2}.
We employ an existing Python-based implementation of this sampling technique 
\cite{foreman-mackey_emcee:_2013} to numerically sample the likelihood functional in 
Eq.~\eqref{eqn:likelihood}. As a starting point we use the optimum parameter 
set obtained as a result of the particle swarm optimization.

Consequently, in addition to fitting the data with a particle swarm optimizer, 
each result was verified based on the MCMC method described above to evaluate 
the confidence intervals for each parameter. The two step process, i.e.~the PSO 
fitting procedure followed by the MCMC sampling, was conducted for each 
standalone experiment as well as for the combined optimization problem stated 
in Eq.~\eqref{eqn:total_chi_2}. The results are compiled in Table 
\ref{tbl:results}. The confidence intervals were calculated by evaluating the 
probability distribution as a result of the MCMC procedure for each parameter 
around its PSO fit results. The confidence intervals given here represent 
percentiles of the number of samples found in the interval defined by the upper 
and lower bounds used for the PSO procedure for each parameter. In the case of 
a centered Gaussian distribution, percentiles of $2.3\%$ and $97.8\%$ of the 
integrated number of samples forming the distribution, mark the interval of 
four times the standard deviation, i.e.~$\pm 2\sigma$ in statistical terms. Due 
to potential asymmetries in the actual distributions found by the MCMC method, 
explicit upper and lower bounds of the confidence intervals are given in Table 
\ref{tbl:results} based on these percentiles. The best model value is based on 
the PSO fit result and is refined by the MCMC sampling by calculating the mean 
value, i.e.~the 50\% percentile, of the distribution of samples following the 
MCMC procedure. The best model is thus the result of a two-step optimization 
routine starting with a PSO analysis and sampling based on the resulting values 
to evaluate the distribution according to Eq.~\eqref{eqn:likelihood}.
\onecolumn
\begin{table*}
\centering
\caption{Optimized model parameters with confidence intervals derived from MCMC 
validation for each individual experiment and the combined analysis}
\label{tbl:results}
\begin{tabular}{@{}llllll@{}}
\toprule
Parameter &  Combined & EUV  & XRR  & REUV  & GIXRF\\ \midrule
$D$ / nm& $1.5737_{-0.0010}^{+0.0008}$ & $1.5749_{-0.0022}^{+0.0014}$ & 
$1.5726_{-0.0042}^{+0.0035}$& $1.5728_{-0.0019}^{+0.0016}$& 
$1.5741_{-0.0024}^{+0.0021}$ \\ \addlinespace
$\Gamma_{Sc}$ & $0.48_{-0.04}^{+0.04}$ & $0.35_{-0.11}^{+0.14}$ & 
$0.42_{-0.26}^{+0.35}$& $0.52_{-0.07}^{+0.09}$& $0.49_{-0.10}^{+0.09}$ \\ 
\addlinespace
$s_d$ / nm& $1.34_{-0.26}^{+0.18}$ & $0.72_{-0.66}^{+0.67}$ & 
$0.60_{-0.57}^{+0.78}$& $0.89_{-0.83}^{+0.59}$& $1.27_{-0.38}^{+0.24}$ \\ 
\addlinespace
$\Gamma_\sigma$ & $0.16_{-0.16}^{+0.51}$ & $0.29_{-0.28}^{+0.64}$ & 
$0.40_{-0.39}^{+0.57}$& $0.33_{-0.32}^{+0.61}$& $0.39_{-0.37}^{+0.57}$ \\ 
\addlinespace
$\eta$ & $0.56_{-0.16}^{+0.06}$ & $0.44_{-0.30}^{+0.16}$ & 
$0.38_{-0.36}^{+0.33}$& $0.52_{-0.37}^{+0.14}$& $0.37_{-0.34}^{+0.25}$ \\ 
\addlinespace
$\sigma_r$ / nm& $0.11_{-0.10}^{+0.11}$ & $0.17_{-0.15}^{+0.12}$ & 
$0.13_{-0.12}^{+0.14}$& $0.17_{-0.16}^{+0.16}$& $0.27_{-0.25}^{+0.20}$ \\ 
\addlinespace
$\rho_{Sc}$ & $0.94_{-0.12}^{+0.05}$ & $0.84_{-0.32}^{+0.15}$ & 
$0.78_{-0.27}^{+0.21}$& $0.94_{-0.14}^{+0.06}$& $0.83_{-0.30}^{+0.17}$ \\ 
\addlinespace
$\rho_{Cr}$ & $0.98_{-0.08}^{+0.02}$ & $0.96_{-0.13}^{+0.04}$ & 
$0.83_{-0.27}^{+0.16}$& $0.90_{-0.21}^{+0.09}$& $0.86_{-0.28}^{+0.14}$ \\ 
\addlinespace
 \bottomrule
\end{tabular}
\end{table*}
%\twocolumn
The confidence intervals of each experimental method differ significantly 
depending on the parameter. To better demonstrate the different sensitivities 
for the model parameters depending on the experimental method, we have 
illustrated each confidence interval in Fig.~\ref{fig:confidence_intervals}.
\begin{figure}[htbp]
  \centering
  
\includegraphics[width=0.6\textwidth]{images/spiderplot_confidence_intervals_empty}
  \caption{Visual representation of the total confidence intervals for each of 
the parameters with respect to each of the individual experiments as well as 
the combined analysis.}
  \label{fig:confidence_intervals}
\end{figure}
It is worth noting that the confidence interval for the combined analysis is 
significantly smaller compared to the individual experiments. This is 
especially true for the parameter $\Gamma_\sigma$ describing the asymmetry of 
the interdiffusion layers. Within each of the individual experiments this 
parameter has a large uncertainty, whereas the combined analysis delivers a 
significant result of a clearly asymmetric interdiffusion layer thickness.


%\section{Results and Discussion} \label{sec:results}

The best fit result based on the two-step optimization procedure of the 
combined data set of all experiments is shown in 
Fig.~\ref{fig:combined_fit_result} together with the experimental data. The 
theoretical calculations based on the above model and the experimental data 
show good agreement. Nevertheless, differences can be observed. The reason lies 
in the fact that the model is potentially still too ideal. Small variations 
during the deposition process, for example, could lead to imperfections, which 
are not described in a strictly periodic model. However, including these by 
explicitly breaking the periodicity would again lead to an ill-defined model 
with a vastly increased number of parameters and is thus not practical. Another 
reason is the deviation in the homogeneity of the sample, e.g.~a varying period 
across the sample, which cause mismatches if the measurement position varies 
slightly between the different experimental setups. The latter effects were 
considered in the uncertainties of the individual measurements by measuring the 
EUV reflectivity at positions $\pm 2$ mm from the center position and fitting 
the model. The result was a $\Delta D = 2$ pm shift in the period over $4$ mm 
across the sample.
\onecolumn
\begin{figure*}[htbp]
  \centering
  \includegraphics[width=\textwidth]{images/combined_fit_result}
  \caption{Measured and calculated reflectance and intensity curves for the 
optimized parameters with the combined analysis of all experiments as listed in 
Table~\ref{tbl:parametrization}.}
  \label{fig:combined_fit_result}
\end{figure*}
%\twocolumn
The resulting depth dependence of the index of refraction is shown in 
Fig.~\ref{fig:electron_density_profile} together with the initial binary model 
for comparison.
\begin{figure}[htbp]
  \centering
  \includegraphics[width=0.7\textwidth]{images/real_model}
  \caption{Real part of the index of refraction $n$  based on the results of 
the optimized parameters listed in Table~\ref{tbl:results} for the combined 
analysis for a selected wavelength. The gradual interface model is shown in 
direct comparison to the binary model optimized for the EUV reflectance curve 
over three full periods. The resulting strong asymmetry in the width of the 
interface regions is clearly visible (see text). The gray and white shaded 
areas indicate the Cr and Sc layers, respectively, for the binary model.}
  \label{fig:electron_density_profile}
\end{figure}
The most remarkable result of the combined analysis is the strong asymmetry of 
the interdiffusion layers. This can only be shown by the combination of all 
analytical experiments conducted here, as can be seen from the confidence 
intervals in Fig.~\ref{fig:confidence_intervals} as well as the values in 
Table~\ref{tbl:results}. A possible explanation for this asymmetry is the 
deposition process through magnetron sputtering. The elements Cr and Sc have 
different mass and thus different momentum when deposited onto each other. A 
similar effect is known from the deposition of Mo/Si multilayer systems, where 
the heavier Mo shows higher penetration into the Si layer than vice versa 
\cite{petford-long_highresolution_1987}. In the case of Cr/Sc multilayers, the Cr is heavier and 
thus has higher momentum leading to a broader interdiffusion layer.
The validation using the MCMC procedure also yields possible correlations 
between single parameters of the model.

\cite{haase_multiparameter_2016}


